
//ClientTCPConnection class: clientTCPsocket//



boolean isChatting = false;
boolean isTimeout = false;

connected() {

	//prompt to enter command

	while(true) {
	
		try{
			//set timer

			while(true) {
			
				switch() { 	
					//if timeout happens while parsing command, just loop and have user re-type the command
				}
			
			}//end while2
		
		
		} 
		catch {
		
			if(isChatting) {
				//don't break, loop back so you can get back in try block and reset timer (user re-types their previous command if necessary)
			} else 
			{
				//tell ChatListener to quit, so it wont hang
				isTimeout = true;
			}
		}
		
	}//end while1	
}






class ChatListener {

	while(isTimeout == false) {
		
		//after server says you're now chatting with UserX, set isChatting for connected() :
		isChatting = true;


		//after either User has decided to end the chat, set isChatting for connected() :
		isChatting = false;

	}
	
	//quit
}
